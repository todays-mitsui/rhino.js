import{m as c}from"./vendor.5e96b68d.js";const m=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}};m();function g(r,o){const t=2,e=20,n=c.exports.Bodies.rectangle(r/2,-(e/2+t),r+2*t,e,{isStatic:!0}),s=c.exports.Bodies.rectangle(-(e/2+t),o/2,e,o+2*t,{isStatic:!0}),a=c.exports.Bodies.rectangle(r/2,o-e,r+2*t,e*2,{isStatic:!0,render:{fillStyle:"#000000"}}),u=c.exports.Bodies.rectangle(r+e/2+t,o/2,e,o+2*t,{isStatic:!0});return{top:n,left:s,bottom:a,right:u}}function x(r,o){const t=r.clientWidth,e=r.clientHeight,n=c.exports.Engine.create(),s=g(t,e);c.exports.World.add(n.world,[...Object.values(s),o]);const a=c.exports.Render.create({element:r,engine:n,options:{width:t,height:e,wireframes:!1,background:"transparent"}});c.exports.Render.run(a);const u=c.exports.Runner.create();return c.exports.Runner.run(u,n),{engine:n,render:a,runner:u,ground:s.bottom}}function y(){const r=Math.random()*10-5,o=-Math.random()*10-5,t=h()*S(100,.2)*.01;return{x:r,y:o,angular:t}}function h(){return Math.random()>.5?1:-1}function S(r,o){let t=0;for(let e=0;e<r;e++)Math.random()<o&&t++;return t}function v(r){const o=7-r,t=Array.from(Array(6),(e,n)=>n+1).filter(e=>![r,o].includes(e));return M(t)}function M(r){const o=Math.floor(Math.random()*r.length);return r[o]}function l(r){const o=["","\u2680","\u2681","\u2682","\u2683","\u2684","\u2685"],t=document.createElement("canvas");t.width=60,t.height=60;const e=t.getContext("2d");e.font="74px sans-serif",e.fillStyle="rgba(0, 0, 0)",e.textBaseline="middle",e.textAlign="center",e.fillText(o[r],30,30);const n=t.toDataURL();return t.remove(),n}function L(r,o,t=30){const e=c.exports.Bodies.rectangle(r,o,t,t,{angle:1,restitution:.8,friction:.05,render:{sprite:{texture:l(6),xScale:.5,yScale:.5}}});return p(e),e}function p(r){const{x:o,y:t,angular:e}=y();c.exports.Body.setVelocity(r,{x:o,y:t}),c.exports.Body.setAngularVelocity(r,e)}function b(r,o){let t=0,e=1;return()=>{const n=Math.floor(r.angle*2/Math.PI+.5)%4;if(t==n)return;const s=v(e);r.render.sprite.texture=o.get(s),t=n,e=s}}const d=document.querySelector("#app"),k=d.clientWidth,w=d.clientHeight,f=L(k/2,w/4),{engine:B,render:q,runner:A,ground:i}=x(d,f);d.addEventListener("click",()=>{p(f)});const E=new Map([[1,l(1)],[2,l(2)],[3,l(3)],[4,l(4)],[5,l(5)],[6,l(6)]]);c.exports.Events.on(B,"beforeUpdate",b(f,E));document.querySelector("#fill").addEventListener("click",()=>{i.render.fillStyle="#000000",i.render.lineWidth=0,i.render.strokeStyle="transparent"});document.querySelector("#line").addEventListener("click",()=>{i.render.fillStyle="transparent",i.render.lineWidth=.5,i.render.strokeStyle="#000000"});document.querySelector("#transparent").addEventListener("click",()=>{i.render.fillStyle="transparent",i.render.lineWidth=0,i.render.strokeStyle="transparent"});
