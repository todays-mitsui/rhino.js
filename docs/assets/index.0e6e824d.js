var b=Object.defineProperty,z=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var h=(n,t,e)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,f=(n,t)=>{for(var e in t||(t={}))R.call(t,e)&&h(n,e,t[e]);if(B)for(var e of B(t))Y.call(t,e)&&h(n,e,t[e]);return n},E=(n,t)=>z(n,G(t));var c=(n,t,e)=>(h(n,typeof t!="symbol"?t+"":t,e),e);import{m as i}from"./vendor.5e96b68d.js";const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const A of r)if(A.type==="childList")for(const o of A.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const A={};return r.integrity&&(A.integrity=r.integrity),r.referrerpolicy&&(A.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?A.credentials="include":r.crossorigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function s(r){if(r.ep)return;r.ep=!0;const A=e(r);fetch(r.href,A)}};S();const x=class{constructor(){c(this,"_enable",!0);c(this,"callbacks",[]);c(this,"ax");c(this,"ay");c(this,"az");c(this,"gx");c(this,"gy");c(this,"gz");this.ax=0,this.ay=0,this.az=0,this.gx=0,this.gy=0,this.gz=0}async requestPermission(){if(DeviceMotionEvent==null)return this._enable=!1;if(!("requestPermission"in DeviceMotionEvent))return this._enable=!0;const t=await DeviceMotionEvent.requestPermission();return this._enable=t=="granted"}hander(t){const e=x.K;let{x:s,y:r,z:A}=t.acceleration,{x:o,y:a,z:g}=t.accelerationIncludingGravity;s==null&&r==null&&A==null&&(this._enable=!1,window.removeEventListener("devicemotion",this.hander)),this.ax=(1-e)*this.ax+e*s,this.ay=(1-e)*this.ay+e*r,this.az=(1-e)*this.az+e*A,this.gx=(1-e)*this.gx+e*o,this.gy=(1-e)*this.gy+e*a,this.gz=(1-e)*this.gz+e*g;for(let l of this.callbacks)l(t)}onDeviceMotion(t){this.callbacks.push(t)}get enable(){return this._enable}get acceleration(){if(!this._enable)return{x:0,y:0,z:0,norm:0};const t=this.ax*this.ax+this.ay*this.ay+this.az*this.az;return{x:this.ax,y:this.ay,z:this.az,norm:t}}get gravity(){return this._enable?{x:this.gx,y:this.gy,z:this.gz}:{x:0,y:0,z:0}}};let p=x;c(p,"K",.01);function D(n,t){const e=12,s=12,r=20,A={isStatic:!0,render:{fillStyle:"#ffffff"}},o=i.exports.Bodies.rectangle(n/2,s-r/2,n,r,A),a=i.exports.Bodies.rectangle(e-r/2,t/2,r,t,E(f({},A),{restitution:.9})),g=i.exports.Bodies.rectangle(n/2,t-s+r/2,n,r,A),l=i.exports.Bodies.rectangle(n-e+r/2,t/2,r,t,E(f({},A),{restitution:.9}));return{top:o,left:a,bottom:g,right:l}}function P(n,t){const e=n.clientWidth,s=n.clientHeight,r=i.exports.Engine.create(),A=D(e,s);i.exports.World.add(r.world,[...Object.values(A),t]);const o=i.exports.Render.create({element:n,engine:r,options:{width:e,height:s,wireframes:!1,background:"transparent"}});i.exports.Render.run(o);const a=i.exports.Runner.create();return i.exports.Runner.run(a,r),{engine:r,render:o,runner:a,ground:A.bottom}}function v(){const n=y()*M(100,.3)*.08,t=-Math.random()*12-7,e=y()*M(100,.22)*.012;return{x:n,y:t,angular:e}}function y(){return Math.random()>.5?1:-1}function M(n,t){let e=0;for(let s=0;s<n;s++)Math.random()<t&&e++;return e}function J(n){const t=7-n,e=Array.from(Array(6),(s,r)=>r+1).filter(s=>![n,t].includes(s));return F(e)}function F(n){const t=Math.floor(Math.random()*n.length);return n[t]}const V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAWBJREFUaEPt2r1KA0EUhuEnhah4P16EiIWFCraC4B2oWKidjfdgJ5jCQsTLsLSxtxC0sBRkIStJ2PzOJkw2Z+uZM/Od77yznGFaGv61Gq5PCFx0h5fSwXXc4njB3HvFPt66913lYAjM1NlwsDRmKUv0BYf4zKQ8q0xIKtEQOGdnw8Ey4eP+B6NEo0TrzUAwGAz2dRNxyNSL2MhowWAwGAyOxKRnwAYOsI0VPOEOP5OF+R+dFYOFuBuc9Il57FTJxxQisxK4i/YAEWcd8b8TisxK4AWuBgh4wBG+Q2BvBrJycAcFb1XfNS6x0CXa+EOmcG4VW9jDGp5xPwV7w27+4tJpWHaim5jwmE8dntUpmiqman4IjHYp2qVZkDV+zGAwGAwGx+dlFiODwWAwHgLNgqy0mEn9YNrS85kdAss8F1cK59icT+JrW+ULp3jvjriUzylrS2kOgcLBHFxI2UPjHfwDOzAOSIUBtRgAAAAASUVORK5CYII=",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAgNJREFUaEPt2s+LTlEcx/HXWMiPpGwkC/kHLAnJf6CmFJEVjQWSxSwQikRTZrKzYEejWLAzs5gFpSwsLG2UqElRykrNoFP3qdvTfczzNPfcec59ztne0znf9/fz/X7Pvd9zx7R8jLWcTwZMXeGRVHAjZnA2MfU+4Bg+lu2uUjADDqmyWcGOMCMZonM4iR9DEp5VIqwqRDNgw8o2puBOHMZ2vMN7/G4ANjpgOD/HMY1dJaBnuIBvkSGjA+7GLPZVgNzD1chKRgc8gpc9VHqLE/gcUcXogOHIeNwDoLJc1wwbHXAvXmBHheGvcArfa4YqLxcdMGwwhfNdEL8wgacR4cLS0QHDJlswiXPYhje4iQX8aQNgZIb/Lt+Ighkwogeygh3n9tuyyF8TEcOxaukcojlEu/qiOQdzDtbrgVxkcpHJRabenCpH1H7cxSGE78vnuIEvpS2TzcGDeNLVqQtcof8TrvM63bokAdcXyl3qERxn8Kh4liTgVjzE0R6Ad3ANy021LOrOwk24j6BU1biOWykrGGw/XajYDbiI43idOuBm3MbFEmGopFfwAEupAwb712EPDhTt/3l8xd82HBP95nWSVbRfuDAvAw76sj2Id9dq7qru6NfK6EH2zYAdb7X+P5kNxRV0uANMafzEZXwqGz2Sv1OmpNqKtmYFV3TRkE9ovYL/AEyTKEgX9ASuAAAAAElFTkSuQmCC",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAlJJREFUaEPt2s2rTVEYgPHfVb6TMpEM5B8wJCRzSZEQGRHlIxkYIIRECpkZMBEhFAP5GBhQysDA0ESJkqJIBspXb211nPY59rn3rnP3Onfv6VmttZ71rPOud717DxnwZ2jA+TSAuRselwan4hy2Z2bvJdbjVeu8yww2gDU12xj8K2ZcbtGH2IRPNdmeZRJGtEUbwD6b7ZvBuViO2XiOF/jeB9jkgHF+rsZZzGsBuond+JAYMjngfFzDohKQMziY2GRywFW428HSM2zEm4QWkwPGkXGlA0BpuB5l2OSAC3EHc0om/gCb8XGUoVq7Sw4YA5zGrjaIr9iG6wnhouvkgDHIDOzDTszCUxzDY/waBMDEDF2774vBBjDhCtTO4HRswEpMxD1cxrdhLkKtAAMuIu6ONphIFKLuM5y0rlaAa3C7g6kDBfzPHk3WCvBQcXyUMdzCVnxpAP9dgVoZ7JaYH8dRZL1FBz7IxOaajBVYhym4jxvD+O91q/w1Raduq9NU1XoM8yNtXqso2gtMFLMW4xSWIe6XcVYewduWjrIFXIqrbZW64GpP67IEnFSY29tBeWQ8l4rfsgSciYtY2wHwJCLti6QgS8BpOF/kpmWMhxGZT99qMr0Ej6pttxQW29u/L+6TT3IHjLTuBPa0EEYkjWvVBfzIHTDmPwELsKQo/z/CO/wehGOi6lbOMshUhcs6yFSFHHWDVQcey3Yjui6N5cSrjt0AdrsPVl3FsWxX2WCUFOIVdLwDzOn5jP143Trpcfk5ZU7W/jvXxuB/l6jmDQbe4B8vuUBIV71//AAAAABJRU5ErkJggg==",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAndJREFUaEPt2k2oTVEUB/Dfk+QjKQaSAUZmokS+R6ZKKSIjQj6SZIBQJFLITGKgiKIw8jEwIMrAwNBEiZIiYqR8tercOt3O7b177rnn3nffPsN799p7/fd/rXX2+u8zZMCfoQHHJwEc7QyPSQYn4SJ2jjL23mAj3ub9LmIwAexTZhODDWLGZIg+xhZ87ZPwLCKhoxBNAGtmtjYGZ2MNZuIVXuNXh2DHYxFW4gee4CP+5ebtOsB4f67HBczJLXwH+/C5JMgpOIfdOfufOIDr+J393nWA83ALSwuAnMfRkkxuw9WCOd9nRe5FXQDX4UELll5iM8Kpdp7JuITtLYyO4ExdAOOVcaOFI4XlegRIp2XsbWgxNsAdwx90PUSX4D5mFTjzCFvxZQSg8kMm4GyWb0Wmwey1uhiMHYxisLfJkygIO3C7TXCN4Ytxt6lwxX+RDtHdNIpX1xmMRafiEPZgOp7jJJ7ib0mAYbYQx7MqHRsWgE/gQ52viQ78r8S0FgYr8bTkJAlgY+NG2tGnw3bJUCtrlkI0hWiTbJhysGwylbRLOZhyMOVgyeSpyCzlYBU5GC3SQeyqsF2Ko+OyrPFdhZ61S0XqV2xapw3vCtzsh4Y3HHmYNb3NaXUPoY59azPf+kqyGHjRqReyYcgYp+oSneZmsmGEavPTDeH3EzbhWV0AY53VuIL5OYRVSPensT83ZxSuEH0v1yndN9afgbWZPlrV5cs4LMDyTP7vyeVLmwWy8uHpJFPFSaZyWtqYsHIG21i7Z0M7uqPvmddtLJwANjZr4L+TmZhdQccd4Gh6vuMw3uWdHpOfU44m1ob1NTE47Bb1+YCBZ/A/jsBaSEI/anYAAAAASUVORK5CYII=",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAsNJREFUaEPt2kvITVEUB/DfJ29JMZAMMDITJfIemUiKhMiIkEeSDBBCIoXMJAZECGEgj4EBUQYGhiZKlBR5ZaC8WnVu3b7O9d1zH+c+vrOH96699/rv/9rrtU+PLh89XY5PAbDTGe6XDA7DKWzsMPZeYiVeleudxmABsE2ZLRgsEdMvTfQB1uBTm5hnGgl1mWgBMGdmc2NwPBZgLJ7jBX7WCXYgpmEuvuEh3uFv2bpNBxjxcylOYkLZxtexDR9qBDkCx7G5bP537MAF/Ep+bzrASbiCmSlATmBvjUyuw7mUNd8kTu5pXgCX4E4Flp5hNUKpLGM4TmN9hUl7cDQvgBEyLlVQJNVdV4F0VMLe8gqyAW4ffqPpJjoDtzEuRZn7WIuPVYAqFxmMY8l9S5sazJ7Pi8E4wXAGW3tpEg5hA65mBFcSn44bvRxX/BfXIaqbkvNqOoOx6UjswhaMxhMcwiP8qRFgTJuK/YmXjgMLwAfwNs8wUYf+DZmaC4MN0bTGRQqApYOrtqKvN9mODGUVFmMQ7uIifnQDg2npV5pnzIK1rUx0GW7+JzuJcBPBO8toK4CRfUT4SBsRAiKAf82CLo9MJos+XQ/wf4n5YRzsdBPteicT5jwEi7ACQ3EP12q4e6Wr0VZOJst9rVa2AJh3JlMtM9XK5cJglEg7samB5VKkjrOSwnceWlYuVfKM9Ra8c3C5HQreUCQ8YRS9vcctRHfsc7X2lsi1Vcui65tOrWgbRhsjMp8YTXcyE5O2YZhq79GMxu/7pJ58nBfA2Gc+zmJyGcJGtO6PYHvZmuG4oul7Js/WfWn/MViY9Ecb9fgyAFMwO2n/t+TxJaODbLh40+9gwzXOuGABMGsumvGAWyJe1xt9SzTOuGkBsHRgXf+dTLQU4gk63gA7aXzBbrwuV7pffk7ZSaz1qWvBYJ9H1OYCXc/gP3HmckjMWtkbAAAAAElFTkSuQmCC",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAzVJREFUaEPt2k3oVFUYBvCfKZGGCEmItkhBEAnCIBI/KkQEV4oYKEkRJBaViIiCioaJKIJJi0KlQCVRUtI2pS1aJAouXNiuTaAFIphK4iJQixfuhctwB+fO3Htn/vO/B2Yzcz7e5zznPO/HmTGGvI0ZcnwagCOd4VHJ4HgcxAcjjL1rWIXfs3bnMdgAHFBmGwZTYkblEb2ANfh7QI5nHgk9HdEGYM3M1sbgC3gTU3AFV/Fvj2DH4RUsxD/4GX/hv8y8lQMM/7kCn+PFzMKnsR63ugT5LPbjo8z4+9iIY3iYfF85wBk4ibk5QA5ge5dMvo+vc+a8nojcpboALsMPbVi6jLcRRhVpE/AF1rYZtA176wIYLuPbNobkynUHSCcl7L3Vpm+A24FHqPyIvoZzmJpjzHm8g9sdgMp2eRr7kvuWNzSY/aYuBmMHQww+abEkBGEdThUEl3Z/FWdahCt+i+sQ2U0qXpUzGItOxGZ8jOdwEZ/hFzzuEmAMm4OdiUrHhgXgT/FnnW6iB/tLGVoLg6VY2uUkDcB04zrN6POC7QipFuO9zB08jhtdspIOex7h8BfhDr7Djy2BQ+UMBrhNiaxn8YQPfBe/dQlyJo5iQcv4r7AFD+pyEy8h4s7ZOUDCwHAfqTGdYh2bqGU489YWahq+NY2eKmcwqlftfF23kUy4nS8TIHmbsgvxiayiAdiryFRxREPwIi2KbCSvrcT3dd3BEJkwJu5LHK20RdE1FDBNazq9f2m/SJwPY3m/RSbWfwqvJ25iWhKqleEmIqsIQVmKEJe+uImizJTdv3KRKdvgovM1AHtV0RgfKVJEMx+WmC6Fks5LIqS4331Ll/KqXwG614Q3QrQTg5DwhiE/tbiI9FScTVzF3YIXa6BKFkNfdOpH2TDKGLvrimSmJ2XD1rQm1q+i8HsTq/FrXQBjnTdwBLMyd62M0v0ebMjMGcIVRd9DdZbu0/UnY0lSHy3r8SVCwJcxP8ni+/L4UlAgS+/eRDJlRDKl01JgwtIZLLB237r29EbfN6sLLNwATDdr6P8n80zyBB1vgCOp3cNW/JE1elT+nXIksfZEWxsGn7hFA95h6Bn8HzUyi0jBzmCIAAAAAElFTkSuQmCC",u=new Map([[1,V],[2,j],[3,C],[4,U],[5,L],[6,k]]);function N(n,t){const e=i.exports.Bodies.rectangle(n,t,28,28,{angle:1,restitution:.8,friction:.05,render:{sprite:{texture:u.get(6),xScale:.5,yScale:.5}}});return w(e,null,4),e}function w(n,t=null,e=null,s=null){if(t==null||e==null||s==null){const{x:r,y:A,angular:o}=v();t=t||r,e=e||A,s=s||o}i.exports.Body.setVelocity(n,{x:t,y:e}),i.exports.Body.setAngularVelocity(n,s)}function H(n,t){let e=0,s=1;return()=>{const r=Math.floor(n.angle*2/Math.PI+.5)%4;if(e==r)return;const A=J(s);n.render.sprite.texture=t.get(A),e=r,s=A}}function T(n,t=500){let e=Date.now()-t;return(...s)=>{e+t<Date.now()&&(e=Date.now(),n(...s))}}const m=new p,O=document.querySelector(".start");O.addEventListener("click",async()=>{const n=await m.requestPermission();O.remove(),n&&window.addEventListener("devicemotion",t=>{m.hander(t)}),X(m)});function X(n){const t=document.querySelector("#app"),e=t.clientWidth,s=t.clientHeight,r=N(e/2,s/6),{engine:A,render:o,runner:a,ground:g}=P(t,r);t.addEventListener("click",()=>{w(r)});const l=new Map([[1,u.get(1)],[2,u.get(2)],[3,u.get(3)],[4,u.get(4)],[5,u.get(5)],[6,u.get(6)]]);i.exports.Events.on(A,"beforeUpdate",H(r,l));const I=T(d=>{w(r,null,null,d)},1200);n.onDeviceMotion(()=>{if(n.enable){const{norm:d}=n.acceleration;d>1&&I(d*.15)}})}
